- name: Report controller vitals
  hosts: localhost
  gather_facts: true
  tasks:
    - debug:
        msg:
          ansible_facts.architecture: "{{ ansible_facts.architecture }}"
          ansible_facts.distribution: "{{ ansible_facts.distribution }}"
          ansible_facts.distribution_version: "{{ ansible_facts.distribution_version }}"
          ansible_facts.os_family: "{{ ansible_facts.os_family }}"
          ansible_facts.pkg_mgr: "{{ ansible_facts.pkg_mgr }}"
          ansible_facts.python.executable: "{{ ansible_facts.python.executable }}"
          ansible_facts.python.type: "{{ ansible_facts.python.type }}"
          ansible_facts.python_version: "{{ ansible_facts.python_version }}"
          ansible_facts.service_mgr: "{{ ansible_facts.service_mgr }}"
          ansible_facts.user_shell: "{{ ansible_facts.user_shell }}"
          ansible_facts.userspace_architecture: "{{ ansible_facts.userspace_architecture }}"
          ansible_forks: "{{ ansible_forks }}"
          ansible_run_tags: "{{ ansible_run_tags }}"
          ansible_skip_tags: "{{ ansible_skip_tags }}"
          ansible_verbosity: "{{ ansible_verbosity }}"
          ansible_version.full: "{{ ansible_version.full }}"
  tags:
    - always

- name: Report target vitals
  hosts: test-targets
  gather_facts: true
  tasks:
    - debug:
        msg:
          ansible_facts.architecture: "{{ ansible_facts.architecture }}"
          ansible_facts.distribution: "{{ ansible_facts.distribution }}"
          ansible_facts.distribution_version: "{{ ansible_facts.distribution_version }}"
          ansible_facts.os_family: "{{ ansible_facts.os_family }}"
          ansible_facts.pkg_mgr: "{{ ansible_facts.pkg_mgr }}"
          ansible_facts.python.executable: "{{ ansible_facts.python.executable }}"
          ansible_facts.python.type: "{{ ansible_facts.python.type }}"
          ansible_facts.python_version: "{{ ansible_facts.python_version }}"
          ansible_facts.service_mgr: "{{ ansible_facts.service_mgr }}"
          ansible_facts.user_shell: "{{ ansible_facts.user_shell }}"
          ansible_facts.userspace_architecture: "{{ ansible_facts.userspace_architecture }}"
  tags:
    - always
